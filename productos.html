<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Muestrario - CharmsClub</title>
  <link rel="stylesheet" href="styles/orbita.css" />
</head>
<body>
  <div class="carrusel-container">
    <div class="carrusel" id="carrusel">
      <!-- Producto 1 -->
      <div class="producto" style="--i:0">
        <img src="images/prod1.PNG" alt="Producto 1" />
        <div class="info">
          <p class="nombre">Charm Estrella</p>
          <p class="precio">$15.000</p>
        </div>
      </div>
      <!-- Producto 2 -->
      <div class="producto" style="--i:1">
        <img src="images/prod2.PNG" alt="Producto 2" />
        <div class="info">
          <p class="nombre">Charm Luna</p>
          <p class="precio">$18.000</p>
        </div>
      </div>
      <!-- Producto 3 -->
      <div class="producto" style="--i:2">
        <img src="images/prod3.PNG" alt="Producto 3" />
        <div class="info">
          <p class="nombre">Pulsera Rosa</p>
          <p class="precio">$25.000</p>
        </div>
      </div>
      <!-- Producto 4 -->
      <div class="producto" style="--i:3">
        <img src="images/prod4.PNG" alt="Producto 4" />
        <div class="info">
          <p class="nombre">Charm Coraz칩n</p>
          <p class="precio">$12.000</p>
        </div>
      </div>
    </div>

  
  </div>

  <script>
  const carrusel = document.querySelector('.carrusel');
  let angle = 0;
  let isDragging = false;
  let startX = 0;
  let currentX = 0;

  const rotateCarrusel = (deltaX) => {
    const rotationSpeed = 0.3; // menor = m치s lento
    angle += deltaX * rotationSpeed;
    carrusel.style.transform = `rotateY(${angle}deg)`;
  };

  // 游댢 Fuerza redibujo para corregir borrosidad
  function forceRedraw(el) {
    el.style.display = 'none';
    el.offsetHeight; // fuerza reflow
    el.style.display = '';
  }

  // Mouse Events
  carrusel.addEventListener('mousedown', (e) => {
    isDragging = true;
    startX = e.clientX;
  });

  window.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    currentX = e.clientX;
    const deltaX = currentX - startX;
    rotateCarrusel(deltaX);
    startX = currentX;
  });

  window.addEventListener('mouseup', () => {
    isDragging = false;
    forceRedraw(carrusel); // 游대 repintar
  });

  // Touch Events (para m칩viles)
  carrusel.addEventListener('touchstart', (e) => {
    startX = e.touches[0].clientX;
  });

  carrusel.addEventListener('touchmove', (e) => {
    const touchX = e.touches[0].clientX;
    const deltaX = touchX - startX;
    rotateCarrusel(deltaX);
    startX = touchX;
  });

  carrusel.addEventListener('touchend', () => {
    forceRedraw(carrusel); // 游대 repintar en m칩vil
  });
</script>
</body>
</html>
