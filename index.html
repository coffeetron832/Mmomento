<!DOCTYPE html>
<html lang="es" class="fade">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TheMural | Instantes efímeros</title>
  <meta name="description" content="Sin historiales. Sin vigilancia. Solo instantes reales. En TheMural, tus aportes al mural aparecen y desaparecen." />
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
  :root {
    --bg: #000;
    --text: #eee;
    --subtle: #aaa;
    --accent: #5a9bd8;
    --btn-border: #333;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    overflow-x: hidden;
  }

  a {
    color: var(--accent);
    text-decoration: none;
  }

  a:hover {
    opacity: 0.7;
  }

  .fade-in {
    animation: fadeIn 0.8s ease-out both;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .global-header {
    width: 100%;
    height: 60px;
  }

  .content-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    text-align: center;
  }

  .butterfly-scene {
  width: 200px;
  height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 2rem;
}

.pixel-butterfly {
  display: grid;
  grid-template-columns: repeat(8, 8px);
  grid-template-rows: repeat(8, 8px);
  gap: 1px;
  animation: float 3s ease-in-out infinite;
}

.pixel {
  width: 8px;
  height: 8px;
  background-color: transparent;
}

/* Colores de la mariposa */
.pixel-butterfly .p1, .p2, .p3, .p4, .p5, .p6,
.p7, .p8, .p9, .p10, .p11, .p12,
.p13, .p14, .p15, .p16, .p17, .p18, .p19, .p20,
.p21, .p22, .p23, .p24, .p25, .p26,
.p27, .p28, .p29, .p30, .p31, .p32,
.p33, .p34 {
  background-color: #9b5de5;
}

/* Cuerpo (central oscuro) */
.p16, .p23, .p28, .p31, .p33 {
  background-color: #333;
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-6px); }
}



  h1 {
    font-size: 2.5rem;
    font-weight: 300;
    margin-bottom: 1rem;
    color: var(--text);
  }

  .login-form {
    margin-top: 1rem;
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
    align-items: center;
  }

  .login-form input {
    padding: 0.6rem 1rem;
    font-size: 1rem;
    border-radius: 8px;
    border: 1px solid var(--btn-border);
    background-color: #111;
    color: var(--text);
  }

  .login-form button {
    padding: 0.6rem 1.2rem;
    font-size: 1rem;
    border-radius: 8px;
    background-color: var(--accent);
    color: white;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .login-form button:hover {
    background-color: #367bbf;
  }

  .link {
    margin-top: 1rem;
    font-size: 0.9rem;
    text-align: center;
    color: var(--subtle);
  }

  .footer-curved {
    text-align: center;
    padding: 1rem;
    font-size: 0.85rem;
    color: var(--subtle);
  }

  .footer-link {
    margin: 0 10px;
  }

  @media (max-width: 480px) {
    h1 {
      font-size: 2rem;
    }

    .login-form {
      flex-direction: column;
      width: 100%;
    }

    .login-form input,
    .login-form button {
      width: 100%;
    }
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
</style>
</head>
<body>

  <!-- Spinner emocional -->
  <div id="emotionalSpinner" style="
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(4px);
    z-index: 3000;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: #fff;
    font-family: 'Inter', sans-serif;
    font-size: 1.1rem;
    text-align: center;
  ">
    <div class="soul-spinner" style="
      width: 60px;
      height: 60px;
      border: 6px solid #4f46e5;
      border-top: 6px solid transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 1rem;
    "></div>
    <span>Viendo si no olvidaste la contraseña otra vez…</span>
  </div>

  <!-- Mensaje de logout -->
  <div id="logoutMessageBox" style="
    display: none;
    position: fixed;
    top: 1rem;
    left: 50%;
    transform: translateX(-50%);
    background-color: #4f46e5;
    color: #fff;
    padding: 1rem 2rem;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    font-family: 'Inter', sans-serif;
    font-size: 1rem;
    z-index: 9999;
    opacity: 0;
    transition: opacity 0.5s ease;
    max-width: 80%;
    text-align: center;
  "></div>

  <!-- Header vacío -->
  <header class="global-header"></header>

  <!-- Contenido principal -->
  <div class="content-wrapper">
    <!-- Mariposa animada -->
    <div class="butterfly-scene">
  <div class="pixel-butterfly">
    <!-- Se agregan 64 divs para 8x8 -->
    <div class="pixel"></div> <!-- fila 1 -->
    <div class="pixel"></div>
    <div class="pixel"></div>
    <div class="pixel p1"></div>
    <div class="pixel p2"></div>
    <div class="pixel"></div>
    <div class="pixel"></div>
    <div class="pixel"></div>

    <div class="pixel"></div> <!-- fila 2 -->
    <div class="pixel p3"></div>
    <div class="pixel"></div>
    <div class="pixel p4"></div>
    <div class="pixel p5"></div>
    <div class="pixel"></div>
    <div class="pixel p6"></div>
    <div class="pixel"></div>

    <div class="pixel p7"></div> <!-- fila 3 -->
    <div class="pixel"></div>
    <div class="pixel p8"></div>
    <div class="pixel p9"></div>
    <div class="pixel p10"></div>
    <div class="pixel p11"></div>
    <div class="pixel"></div>
    <div class="pixel p12"></div>

    <div class="pixel p13"></div> <!-- fila 4 -->
    <div class="pixel p14"></div>
    <div class="pixel p15"></div>
    <div class="pixel p16"></div>
    <div class="pixel p17"></div>
    <div class="pixel p18"></div>
    <div class="pixel p19"></div>
    <div class="pixel p20"></div>

    <div class="pixel"></div> <!-- fila 5 -->
    <div class="pixel p21"></div>
    <div class="pixel p22"></div>
    <div class="pixel p23"></div>
    <div class="pixel p24"></div>
    <div class="pixel p25"></div>
    <div class="pixel p26"></div>
    <div class="pixel"></div>

    <div class="pixel"></div> <!-- fila 6 -->
    <div class="pixel"></div>
    <div class="pixel p27"></div>
    <div class="pixel p28"></div>
    <div class="pixel p29"></div>
    <div class="pixel p30"></div>
    <div class="pixel"></div>
    <div class="pixel"></div>

    <div class="pixel"></div> <!-- fila 7 -->
    <div class="pixel"></div>
    <div class="pixel"></div>
    <div class="pixel p31"></div>
    <div class="pixel p32"></div>
    <div class="pixel"></div>
    <div class="pixel"></div>
    <div class="pixel"></div>

    <div class="pixel"></div> <!-- fila 8 -->
    <div class="pixel"></div>
    <div class="pixel"></div>
    <div class="pixel p33"></div>
    <div class="pixel p34"></div>
    <div class="pixel"></div>
    <div class="pixel"></div>
    <div class="pixel"></div>
  </div>
</div>


    <!-- Frase central -->
    <h1 class="fade-scale">TheMural: el lugar donde lo efímero importa</h1>

    <!-- Formulario -->
    <form id="loginForm" class="login-form">
      <input type="email" name="email" placeholder="Correo" required autocomplete="email" />
      <input type="password" name="password" placeholder="Contraseña" required autocomplete="current-password" />
      <button type="submit">Entrar</button>
    </form>

    <p class="link">
      ¿No tienes cuenta? <a href="register.html">Únete a nosotros</a>
    </p>
  </div>

  <!-- Footer -->
  <footer class="footer-curved">
    <a href="privacidad.html" class="footer-link">Política de Privacidad</a>
    <a href="condiciones.html" class="footer-link">Términos y Condiciones</a>
  </footer>

  <!-- JS -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const logoutMsg = localStorage.getItem('logoutMessage');
      const box = document.getElementById('logoutMessageBox');
      if (logoutMsg && box) {
        box.textContent = logoutMsg;
        box.style.display = 'block';
        setTimeout(() => {
          box.style.opacity = '1';
          setTimeout(() => {
            box.style.opacity = '0';
            setTimeout(() => {
              box.style.display = 'none';
            }, 500);
          }, 3000);
        }, 100);
        localStorage.removeItem('logoutMessage');
      }

      function applyFadeIn() {
        document.documentElement.classList.add('fade-in');
      }

      window.addEventListener('DOMContentLoaded', applyFadeIn);
      window.addEventListener('pageshow', event => {
        if (event.persisted) applyFadeIn();
      });

      document.addEventListener('click', e => {
        const link = e.target.closest('a');
        if (!link) return;
        const href = link.getAttribute('href');
        if (href && !href.startsWith('#') && !link.target) {
          e.preventDefault();
          document.documentElement.classList.remove('fade-in');
          document.documentElement.classList.add('fade');
          setTimeout(() => window.location.href = href, 300);
        }
      });
    });

    const spinner = document.getElementById("emotionalSpinner");
    if (spinner) spinner.style.display = "none";
  </script>
  <script src="js/api.js"></script>
  <script src="js/auth.js"></script>
</body>
</html>
